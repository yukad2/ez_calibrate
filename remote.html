<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>リモコン（別ウィンドウ）</title>
  <link rel="stylesheet" href="styles/remote.css" />
</head>
<body>
  <div class="control-panel">
    <h1>リモコン</h1>
    <div class="tab-menu" role="tablist" aria-label="リモコン機能">
      <button
        type="button"
        class="tab-menu__tab is-active"
        id="tab-button-color"
        data-tab="color"
        role="tab"
        aria-selected="true"
        aria-controls="tab-panel-color"
      >
        色設定
      </button>
      <button
        type="button"
        class="tab-menu__tab"
        id="tab-button-deltaE"
        data-tab="deltaE"
        role="tab"
        aria-selected="false"
        aria-controls="tab-panel-deltaE"
      >
        色差計算
      </button>
      <button
        type="button"
        class="tab-menu__tab"
        id="tab-button-image"
        data-tab="image"
        role="tab"
        aria-selected="false"
        aria-controls="tab-panel-image"
      >
        画像設定
      </button>
      <button
        type="button"
        class="tab-menu__tab"
        id="tab-button-template"
        data-tab="template"
        role="tab"
        aria-selected="false"
        aria-controls="tab-panel-template"
      >
        テンプレート表示
      </button>
    </div>

    <div class="tab-panels">
      <section
        id="tab-panel-color"
        class="tab-panel is-active"
        role="tabpanel"
        aria-labelledby="tab-button-color"
      >
        <form id="colorForm" class="color-form">
          <div class="color-form__group">
            <label for="colorSpace">色空間</label>
            <select id="colorSpace" name="colorSpace" class="color-form__select">
              <option value="srgb">sRGB</option>
              <option value="linear">Linear</option>
              <option value="displayP3">Display P3</option>
              <option value="rec2020">Rec.2020</option>
              <option value="adobeRGB">Adobe RGB</option>
              <option value="xyz">CIE XYZ</option>
              <option value="cieluv">CIELUV</option>
            </select>
          </div>
          <div class="color-form__group">
            <span class="color-form__group-label">入力方式</span>
            <div class="input-mode-toggle" role="group" aria-label="入力方式">
              <button type="button" class="input-mode is-active" data-mode="hex">#HEX</button>
              <button type="button" class="input-mode" data-mode="float">Float</button>
              <button type="button" class="input-mode" data-mode="255">0-255</button>
            </div>
          </div>
          <div class="color-form__inputs">
            <div class="color-input-set is-active" data-mode="hex">
              <label for="colorHex">#HEX</label>
              <input type="text" id="colorHex" name="colorHex" placeholder="#ff0000" autocomplete="off" />
            </div>
            <div class="color-input-set" data-mode="float">
              <span class="color-input-set__legend">Float 値</span>
              <div class="color-input-set__components">
                <label class="color-input-set__component" for="colorFloat0">
                  <span class="color-input-set__label" data-component-index="0">R</span>
                  <input
                    type="number"
                    id="colorFloat0"
                    data-component-index="0"
                    step="0.0001"
                    inputmode="decimal"
                    autocomplete="off"
                  />
                </label>
                <label class="color-input-set__component" for="colorFloat1">
                  <span class="color-input-set__label" data-component-index="1">G</span>
                  <input
                    type="number"
                    id="colorFloat1"
                    data-component-index="1"
                    step="0.0001"
                    inputmode="decimal"
                    autocomplete="off"
                  />
                </label>
                <label class="color-input-set__component" for="colorFloat2">
                  <span class="color-input-set__label" data-component-index="2">B</span>
                  <input
                    type="number"
                    id="colorFloat2"
                    data-component-index="2"
                    step="0.0001"
                    inputmode="decimal"
                    autocomplete="off"
                  />
                </label>
              </div>
            </div>
            <div class="color-input-set" data-mode="255">
              <span class="color-input-set__legend">整数値 (0-255)</span>
              <div class="color-input-set__components">
                <label class="color-input-set__component" for="color255_0">
                  <span class="color-input-set__label" data-component-index="0">R</span>
                  <input
                    type="number"
                    id="color255_0"
                    data-component-index="0"
                    step="1"
                    inputmode="numeric"
                    autocomplete="off"
                  />
                </label>
                <label class="color-input-set__component" for="color255_1">
                  <span class="color-input-set__label" data-component-index="1">G</span>
                  <input
                    type="number"
                    id="color255_1"
                    data-component-index="1"
                    step="1"
                    inputmode="numeric"
                    autocomplete="off"
                  />
                </label>
                <label class="color-input-set__component" for="color255_2">
                  <span class="color-input-set__label" data-component-index="2">B</span>
                  <input
                    type="number"
                    id="color255_2"
                    data-component-index="2"
                    step="1"
                    inputmode="numeric"
                    autocomplete="off"
                  />
                </label>
              </div>
            </div>
          </div>
          <button type="button" id="colorButton" class="action-button">色を設定</button>
        </form>
        <div class="color-details">
          <div class="color-details__controls" id="colorDetailsControls" hidden>
            <label for="colorDetailsFilter" class="color-details__controls-label">表示項目</label>
            <select id="colorDetailsFilter" class="color-details__filter">
              <option value="all">すべて</option>
            </select>
          </div>
          <div class="color-details__body" id="colorDetailsBody" aria-live="polite"></div>
        </div>
      </section>
      <section
        id="tab-panel-deltaE"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-button-deltaE"
        hidden
      >
        <div class="delta-section">
          <div class="delta-reference" id="deltaReference">
            <p class="delta-reference__message">表示中の色の情報がここに表示されます。</p>
          </div>
          <form id="deltaEForm" class="delta-form">
            <p class="delta-form__lead">表示中の色と入力値の色差を計算します。</p>
            <div class="delta-form__group">
              <label for="deltaInputSpace">入力色空間</label>
              <select id="deltaInputSpace" class="delta-form__select">
                <option value="xyz">CIE XYZ</option>
                <option value="luv">CIELUV</option>
              </select>
            </div>
            <div class="delta-form__components">
              <label class="delta-form__component" for="deltaInput0">
                <span class="delta-form__component-label" data-component-index="0">X</span>
                <input
                  type="number"
                  id="deltaInput0"
                  step="0.0001"
                  inputmode="decimal"
                  autocomplete="off"
                />
              </label>
              <label class="delta-form__component" for="deltaInput1">
                <span class="delta-form__component-label" data-component-index="1">Y</span>
                <input
                  type="number"
                  id="deltaInput1"
                  step="0.0001"
                  inputmode="decimal"
                  autocomplete="off"
                />
              </label>
              <label class="delta-form__component" for="deltaInput2">
                <span class="delta-form__component-label" data-component-index="2">Z</span>
                <input
                  type="number"
                  id="deltaInput2"
                  step="0.0001"
                  inputmode="decimal"
                  autocomplete="off"
                />
              </label>
            </div>
            <div class="delta-form__group">
              <label for="deltaMethod">ΔE 計算法</label>
              <select id="deltaMethod" class="delta-form__select">
                <option value="de76">CIE76 (ΔE*ab)</option>
                <option value="de94">CIE94</option>
                <option value="de2000">CIEDE2000</option>
              </select>
            </div>
            <button type="button" id="deltaButton" class="action-button">色差を計算</button>
          </form>
          <div class="delta-result" id="deltaResult">
            <p class="delta-result__message">入力値を指定して色差を計算できます。</p>
          </div>
        </div>
      </section>
      <section
        id="tab-panel-image"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-button-image"
        hidden
      >
        <form id="imageForm">
          <label for="imageUrl">画像URL:</label>
          <input type="url" id="imageUrl" name="imageUrl" placeholder="https://example.com/image.jpg" />
          <button type="button" id="imageButton" class="action-button">画像を表示</button>
        </form>
      </section>
      <section
        id="tab-panel-template"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-button-template"
        hidden
      >
        <div class="template-panel">
          <p class="template-panel__lead">
            表示画面に定型レイアウトを一括表示します。選択後に「テンプレートを表示」を押してください。
          </p>
          <div id="templateList" class="template-picker" role="radiogroup" aria-label="テンプレート一覧"></div>
          <p id="templateEmptyMessage" class="template-panel__empty" hidden></p>
          <div id="templatePreview" class="template-preview" aria-live="polite" aria-atomic="true"></div>
          <button type="button" id="templateButton" class="action-button" disabled>テンプレートを表示</button>
        </div>
      </section>
    </div>
    <div class="hint">
      開いている表示画面（display.html またはトップページのプレビュー）に即座に反映されます。
    </div>
    <div class="info-box" id="info">色や画像を設定するとここに表示されます。</div>
  </div>

  <script src="assets/templates.js"></script>
  <script src="assets/remote.js"></script>
</body>
</html>
